# contexts-mcp configuration example
# Copy to config.yaml and customize for your environment

default_environment: dev

environments:
  dev:
    url: http://relay-mcp:8000
    description: Development environment
    statusline:
      bg_rgb: "76;86;106"     # R;G;B for status line background
      icon: ""               # Nerd font icon
    context:
      networks:
        allowed: [192.168.0.0/16]
      omega: false

  prod:
    url: https://mcp.prod.example.com
    description: Production infrastructure
    statusline:
      bg_rgb: "191;97;106"    # Red for production/danger
      icon: ""
    context:
      networks:
        allowed: [10.0.0.0/8]
        forbidden: [192.168.0.0/16]
      omega: true  # Extra caution mode - critical_directive will be enforced
      # Critical directives are displayed prominently at session start
      # Use for "pain of death" rules that must be followed
      critical_directive: "PRODUCTION DATA MUST BE PRESERVED. Before any operation: identify affected data, verify backups, know rollback path."

  writing:
    url: http://localhost:8001
    description: Writing and documentation tools
    statusline:
      bg_rgb: "163;190;140"   # Green for safe/creative
      icon: ""
    context:
      omega: false

qdrant:
  url: http://qdrant:6333
  collections:
    sessions: session-memory
    context: global-context

embedding:
  model: sentence-transformers/all-MiniLM-L6-v2

# Automatic context management
# Works best with Claude Code autoCompact: false
auto_context:
  enabled: true

  # Token usage thresholds (percentage of max context)
  thresholds:
    warning: 70    # Suggest saving session
    critical: 85   # Auto-save and recommend restart

  # Breakpoint hook settings
  hooks:
    git_commit: true   # Save on git commits
    test_result: true  # Save on test completion
